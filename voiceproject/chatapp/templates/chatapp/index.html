<!DOCTYPE html>
<html>
<head>
    <title>Voice Assistant</title>
    <style>
        body { font-family: sans-serif; }
        #status { margin-bottom: 1em; }
        #transcript { border: 1px solid #ccc; padding: 1em; height: 300px; overflow-y: scroll; }
    </style>
</head>
<body>
    <h1>Voice Assistant</h1>
    <button id="startButton">Start Assistant</button>
    <button id="stopButton">Stop Assistant</button>
    <div id="status">Status: Inactive</div>
    <div id="transcript"></div>

    <script>
        const startButton = document.getElementById('startButton');
        const stopButton = document.getElementById('stopButton');
        const statusDiv = document.getElementById('status');
        const transcriptDiv = document.getElementById('transcript');

        startButton.addEventListener('click', () => {
            fetch('/chatapp/start/')
                .then(response => response.json())
                .then(data => {
                    statusDiv.textContent = 'Status: Active';
                    console.log(data);
                });
        });

        stopButton.addEventListener('click', () => {
            fetch('/chatapp/stop/')
                .then(response => response.json())
                .then(data => {
                    statusDiv.textContent = 'Status: Inactive';
                    console.log(data);
                });
        });

        // WebSocket for real-time updates (this part is more complex and requires a backend implementation)
        // const socket = new WebSocket('ws://' + window.location.host + '/ws/chat/');
        // socket.onmessage = function(e) {
        //     const data = JSON.parse(e.data);
        //     transcriptDiv.innerHTML += '<div>' + data.message + '</div>';
        // };
    </script>
</body>
</html>
